<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FuelOptimizer API Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap");

      body {
        font-family: "Inter", sans-serif;
      }

      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .code-block {
        background: #1e293b;
        border-radius: 0.5rem;
        overflow-x: auto;
      }

      .method-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
        font-weight: 600;
        font-size: 0.75rem;
        text-transform: uppercase;
      }

      .method-get {
        background: #10b981;
        color: white;
      }
      .method-post {
        background: #3b82f6;
        color: white;
      }
      .method-put {
        background: #f59e0b;
        color: white;
      }
      .method-delete {
        background: #ef4444;
        color: white;
      }

      .nav-link {
        transition: all 0.2s;
      }

      .nav-link:hover {
        transform: translateX(4px);
      }

      pre {
        margin: 0;
        padding: 1rem;
        overflow-x: auto;
      }

      code {
        font-family: "Monaco", "Menlo", monospace;
        font-size: 0.875rem;
        line-height: 1.6;
      }

      .endpoint-card {
        transition: all 0.3s;
      }

      .endpoint-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg sticky top-0 z-50">
      <div class="container mx-auto px-6 py-6">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-3">
            <svg
              class="w-10 h-10"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 10V3L4 14h7v7l9-11h-7z"
              ></path>
            </svg>
            <div>
              <h1 class="text-3xl font-bold">FuelOptimizer API</h1>
              <p class="text-blue-100 text-sm">REST API Documentation v1.0</p>
            </div>
          </div>
          <div class="hidden md:flex items-center gap-4">
            <a href="#getting-started" class="hover:text-blue-200 transition"
              >Getting Started</a
            >
            <a href="#authentication" class="hover:text-blue-200 transition"
              >Authentication</a
            >
            <a href="#endpoints" class="hover:text-blue-200 transition"
              >Endpoints</a
            >
            <a
              href="/"
              class="bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-blue-50 transition"
            >
              Open App
            </a>
          </div>
        </div>
      </div>
    </header>

    <div class="container mx-auto px-6 py-12 flex gap-8">
      <!-- Sidebar Navigation -->
      <aside class="hidden lg:block w-64 flex-shrink-0">
        <div class="sticky top-24">
          <nav class="bg-white rounded-xl shadow-md p-6 space-y-2">
            <h3 class="font-bold text-gray-900 mb-4">Navigation</h3>
            <a
              href="#getting-started"
              class="nav-link block py-2 px-3 rounded-lg hover:bg-blue-50 text-gray-700"
              >Getting Started</a
            >
            <a
              href="#authentication"
              class="nav-link block py-2 px-3 rounded-lg hover:bg-blue-50 text-gray-700"
              >Authentication</a
            >

            <div class="pt-4">
              <h4 class="font-semibold text-gray-600 text-sm mb-2">
                Endpoints
              </h4>
              <a
                href="#auth-endpoints"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Auth</a
              >
              <a
                href="#route-endpoints"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Routes</a
              >
              <a
                href="#trip-endpoints"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Trips</a
              >
              <a
                href="#fleet-endpoints"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Fleet</a
              >
              <a
                href="#analytics-endpoints"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Analytics</a
              >
            </div>

            <div class="pt-4 border-t mt-4">
              <h4 class="font-semibold text-gray-600 text-sm mb-2">
                Resources
              </h4>
              <a
                href="#dsa"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >DSA Algorithms</a
              >
              <a
                href="#mongodb"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Database Schema</a
              >
              <a
                href="#errors"
                class="nav-link block py-1.5 px-3 rounded-lg hover:bg-blue-50 text-gray-600 text-sm"
                >Error Codes</a
              >
            </div>
          </nav>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 max-w-4xl">
        <!-- Getting Started -->
        <section
          id="getting-started"
          class="bg-white rounded-xl shadow-md p-8 mb-8"
        >
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Getting Started</h2>
          <p class="text-gray-600 mb-6">
            Welcome to the FuelOptimizer API! This API provides route
            optimization, fleet management, and real-time tracking capabilities
            using advanced DSA algorithms and MongoDB.
          </p>

          <div class="bg-blue-50 border-l-4 border-blue-600 p-4 mb-6">
            <h3 class="font-semibold text-blue-900 mb-2">Base URL</h3>
            <code class="text-blue-700">https://backend-hm7xb7o5a-2024sohamk-isuacins-projects.vercel.app/api</code>
          </div>

          <h3 class="text-xl font-bold text-gray-900 mb-3">Key Features</h3>
          <div class="grid md:grid-cols-2 gap-4 mb-6">
            <div class="border border-gray-200 rounded-lg p-4">
              <h4 class="font-semibold text-gray-900 mb-2">
                üßÆ DSA Algorithms
              </h4>
              <p class="text-gray-600 text-sm">
                Dijkstra, A*, Dynamic Programming, K-Means for route
                optimization
              </p>
            </div>
            <div class="border border-gray-200 rounded-lg p-4">
              <h4 class="font-semibold text-gray-900 mb-2">üìä MongoDB</h4>
              <p class="text-gray-600 text-sm">
                Optimized queries with aggregation pipelines
              </p>
            </div>
            <div class="border border-gray-200 rounded-lg p-4">
              <h4 class="font-semibold text-gray-900 mb-2">üîê Firebase Auth</h4>
              <p class="text-gray-600 text-sm">
                Secure JWT-based authentication
              </p>
            </div>
            <div class="border border-gray-200 rounded-lg p-4">
              <h4 class="font-semibold text-gray-900 mb-2">üìç Live Tracking</h4>
              <p class="text-gray-600 text-sm">
                Real-time GPS telemetry and trip monitoring
              </p>
            </div>
          </div>
        </section>

        <!-- Authentication -->
        <section
          id="authentication"
          class="bg-white rounded-xl shadow-md p-8 mb-8"
        >
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Authentication</h2>
          <p class="text-gray-600 mb-6">
            All API requests require Firebase authentication. Include the JWT
            token in the Authorization header.
          </p>

          <h3 class="text-lg font-semibold text-gray-900 mb-3">Headers</h3>
          <div class="code-block mb-6">
            <pre><code class="text-gray-300">Authorization: Bearer &lt;firebase-jwt-token&gt;
Content-Type: application/json</code></pre>
          </div>

          <h3 class="text-lg font-semibold text-gray-900 mb-3">
            Getting a Token
          </h3>
          <p class="text-gray-600 mb-3">
            Use Firebase Client SDK to get ID token:
          </p>
          <div class="code-block">
            <pre><code class="text-gray-300">const user = auth.currentUser;
const token = await user.getIdToken();</code></pre>
          </div>
        </section>

        <!-- Auth Endpoints -->
        <section id="auth-endpoints" class="mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Authentication Endpoints
          </h2>

          <!-- Register -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700"
                >/auth/register</code
              >
            </div>

            <p class="text-gray-600 mb-4">
              Register a new user (Fleet Admin or Driver)
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "email": "user@example.com",
  "role": "fleet_admin" | "driver",
  "fleetData": {
    // For fleet_admin:
    "companyName": "ABC Transport",
    "name": "John Doe",
    "phone": "+91-9876543210"
    
    // For driver:
    "fleetCode": "FLEET-MGF9IJQE-Z2V",
    "name": "John Doe",
    "phone": "+91-9876543210",
    "licenseNumber": "DL1234567890"
  }
}</code></pre>
            </div>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "success": true,
  "role": "fleet_admin",
  "fleetId": "68e3da9e24518a1f79f57874",
  "fleetCode": "FLEET-MGF9IJQE-Z2V" // Only for fleet_admin
}</code></pre>
            </div>
          </div>

          <!-- Get Profile -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700">/auth/profile</code>
            </div>

            <p class="text-gray-600 mb-4">Get current user profile</p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "userId": "soham_driver",
  "email": "soham@example.com",
  "role": "driver",
  "fleetId": "demo_fleet_001",
  "name": "Soham Karandikar",
  "phone": "+91-9876543210",
  "assignedVehicles": ["vehicle_001"],
  "fleetCode": "FLEET-CODE" // Only for fleet_admin
}</code></pre>
            </div>
          </div>

          <!-- Get Drivers -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700">/auth/drivers</code>
            </div>

            <p class="text-gray-600 mb-4">
              Get all drivers in fleet (Fleet Admin only)
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">[
  {
    "userId": "soham_driver",
    "email": "soham@example.com",
    "name": "Soham Karandikar",
    "totalTrips": 856,
    "activeTrips": 1,
    "completedTrips": 855,
    "totalDistance": 55640.3,
    "avgEfficiency": 85.2,
    "totalEarnings": 667684
  }
]</code></pre>
            </div>
          </div>
        </section>

        <!-- Route Endpoints -->
        <section id="route-endpoints" class="mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Route Optimization Endpoints
          </h2>

          <!-- Route Optimize -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700"
                >/route/optimize</code
              >
            </div>

            <p class="text-gray-600 mb-4">
              Get 3 optimized route options (ECO, BALANCED, FASTEST)
            </p>

            <div
              class="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4"
            >
              <p class="text-purple-900 font-semibold text-sm">
                üßÆ Uses DSA: Dijkstra, Dynamic Programming, K-Means
              </p>
            </div>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "origin": {
    "lat": 19.0760,
    "lng": 72.8777
  },
  "destination": {
    "lat": 19.1197,
    "lng": 72.9081
  },
  "vehicleId": "vehicle_001"
}</code></pre>
            </div>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "eco": {
    "distanceKm": 7.2,
    "durationMin": 12,
    "estimatedFuel": 1.22,
    "estimatedCost": 129.78,
    "savings": 18.5,
    "geometry": { ... }
  },
  "balanced": {
    "distanceKm": 7.46,
    "durationMin": 10,
    "estimatedFuel": 1.34,
    "estimatedCost": 142.24,
    "savings": 12.3,
    "geometry": { ... }
  },
  "fastest": {
    "distanceKm": 7.8,
    "durationMin": 8,
    "estimatedFuel": 1.56,
    "estimatedCost": 165.84,
    "savings": 5.2,
    "geometry": { ... }
  }
}</code></pre>
            </div>
          </div>

          <!-- Custom Route -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700">/route/custom</code>
            </div>

            <p class="text-gray-600 mb-4">
              Get custom route with 4 modes (BASIC, FASTEST, ECO, CASUAL with
              POIs)
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "origin": { "lat": 19.0760, "lng": 72.8777 },
  "destination": { "lat": 19.1197, "lng": 72.9081 },
  "vehicleId": "vehicle_001"
}</code></pre>
            </div>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "basic": { "distanceKm": 7.46, ... },
  "fastest": { "distanceKm": 7.8, ... },
  "eco": { "distanceKm": 7.2, ... },
  "casual": {
    "distanceKm": 8.5,
    "durationMin": 25,
    "pois": [
      { "name": "Cafe Coffee Day", "type": "restaurant", ... },
      { "name": "HP Fuel Station", "type": "fuel", ... }
    ]
  }
}</code></pre>
            </div>
          </div>
        </section>

        <!-- Trip Endpoints -->
        <section id="trip-endpoints" class="mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Trip Management Endpoints
          </h2>

          <!-- Start Trip -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700">/trips/start</code>
            </div>

            <p class="text-gray-600 mb-4">Start a new trip</p>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "vehicleId": "vehicle_001",
  "routeId": "route_eco_001",
  "routeType": "eco",
  "plannedDistance": 35.5
}</code></pre>
            </div>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "tripId": "trip_active_1728234567890",
  "status": "running",
  "startTime": "2025-10-06T14:30:00Z"
}</code></pre>
            </div>
          </div>

          <!-- End Trip -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700"
                >/trips/:tripId/end</code
              >
            </div>

            <p class="text-gray-600 mb-4">End a trip and calculate metrics</p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "trip": {
    "tripId": "trip_123",
    "distanceKm": 35.5,
    "fuelUsed": 2.84,
    "fuelSaved": 5.47,
    "efficiencyScore": 81.3,
    "costSavings": 655.13,
    "drivingBehavior": {
      "harshBraking": 1,
      "harshAcceleration": 0,
      "idleTime": 82
    }
  }
}</code></pre>
            </div>
          </div>

          <!-- Send Telemetry -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700"
                >/trips/telemetry</code
              >
            </div>

            <p class="text-gray-600 mb-4">
              Send real-time GPS telemetry (call every 5 seconds)
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "tripId": "trip_active_1728234567890",
  "lat": 19.1234,
  "lng": 72.8567,
  "speed": 45.2,
  "heading": 135
}</code></pre>
            </div>
          </div>

          <!-- Get Active Trips -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700">/trips/active</code>
            </div>

            <p class="text-gray-600 mb-4">
              Get all active trips (Fleet Admin only)
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "trips": [
    {
      "tripId": "trip_active_123",
      "vehicleName": "Tata Ace Gold",
      "driverName": "Soham Karandikar",
      "currentDistance": 15.2,
      "currentSpeed": 45,
      "lastPosition": { "lat": 19.1234, "lng": 72.8567 },
      "routePath": [[19.11, 72.87], [19.12, 72.88], ...]
    }
  ]
}</code></pre>
            </div>
          </div>

          <!-- Get Trips -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700">/trips</code>
            </div>

            <p class="text-gray-600 mb-4">Get trip history</p>

            <h4 class="font-semibold text-gray-900 mb-2">Query Parameters</h4>
            <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
              <li>
                <code class="bg-gray-100 px-2 py-1 rounded">vehicleId</code> -
                Filter by vehicle
              </li>
              <li>
                <code class="bg-gray-100 px-2 py-1 rounded">limit</code> -
                Number of trips (default: 20)
              </li>
            </ul>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "trips": [
    {
      "_id": "68e3c073dbe9e02180c8d10f",
      "distanceKm": 70.57,
      "fuelUsed": 5.04,
      "fuelSaved": 5.97,
      "efficiencyScore": 81.3,
      "startTime": "2025-10-28T12:17:23Z",
      "endTime": "2025-10-28T13:59:23Z"
    }
  ]
}</code></pre>
            </div>
          </div>
        </section>

        <!-- Fleet Endpoints -->
        <section id="fleet-endpoints" class="mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Fleet Management Endpoints
          </h2>

          <!-- Get Vehicles -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700">/fleet/</code>
            </div>

            <p class="text-gray-600 mb-4">Get all vehicles in fleet</p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">[
  {
    "_id": "vehicle_001",
    "name": "Tata Ace",
    "model": "Tata Ace Gold",
    "registrationNumber": "MH01AB1234",
    "fuelType": "Diesel",
    "baselineConsumption": 18,
    "userId": "soham_driver",
    "status": "active"
  }
]</code></pre>
            </div>
          </div>

          <!-- Add Vehicle -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-post">POST</span>
              <code class="text-lg font-mono text-gray-700">/fleet/</code>
            </div>

            <p class="text-gray-600 mb-4">
              Add a new vehicle (Fleet Admin only)
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "make": "Tata",
  "model": "Ace Gold",
  "year": "2020",
  "registrationNumber": "MH01AB1234",
  "fuelType": "Diesel",
  "consumptionBaseline": 18
}</code></pre>
            </div>
          </div>

          <!-- Update Vehicle -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-put">PUT</span>
              <code class="text-lg font-mono text-gray-700"
                >/fleet/:vehicleId</code
              >
            </div>

            <p class="text-gray-600 mb-4">
              Update vehicle details including driver assignment
            </p>

            <h4 class="font-semibold text-gray-900 mb-2">Request Body</h4>
            <div class="code-block mb-4">
              <pre><code class="text-gray-300">{
  "make": "Tata",
  "model": "Ace Gold",
  "assignedDriverId": "soham_driver",
  "consumptionBaseline": 18
}</code></pre>
            </div>
          </div>

          <!-- Delete Vehicle -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-delete">DELETE</span>
              <code class="text-lg font-mono text-gray-700"
                >/fleet/:vehicleId</code
              >
            </div>

            <p class="text-gray-600 mb-4">
              Delete a vehicle (Fleet Admin only)
            </p>
          </div>
        </section>

        <!-- Analytics Endpoints -->
        <section id="analytics-endpoints" class="mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Analytics Endpoints
          </h2>

          <!-- Fleet Stats -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700">/fleet/stats</code>
            </div>

            <p class="text-gray-600 mb-4">Get fleet-wide statistics</p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">{
  "totalTrips": 945,
  "totalDistance": 65432.1,
  "totalFuelSaved": 5496.3,
  "totalCostSavings": 564340.12,
  "avgEfficiency": 82.5,
  "activeVehicles": 6,
  "activeDrivers": 8
}</code></pre>
            </div>
          </div>

          <!-- Driver Rankings -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700"
                >/fleet/drivers/ranking</code
              >
            </div>

            <p class="text-gray-600 mb-4">Get driver performance rankings</p>

            <div
              class="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4"
            >
              <p class="text-purple-900 font-semibold text-sm">
                üìä Uses MongoDB Aggregation Pipeline
              </p>
            </div>

            <h4 class="font-semibold text-gray-900 mb-2">Query Parameters</h4>
            <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
              <li>
                <code class="bg-gray-100 px-2 py-1 rounded">period</code> - Days
                to analyze (default: 30)
              </li>
              <li>
                <code class="bg-gray-100 px-2 py-1 rounded">limit</code> -
                Number of drivers (default: 10)
              </li>
            </ul>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">[
  {
    "rank": 1,
    "name": "Soham Karandikar",
    "email": "soham@example.com",
    "totalTrips": 856,
    "avgEfficiency": 85.2,
    "totalDistance": 55640.3,
    "safetyScore": 92,
    "overallScore": 87.4
  }
]</code></pre>
            </div>
          </div>

          <!-- Fleet Performance -->
          <div class="endpoint-card bg-white rounded-xl shadow-md p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
              <span class="method-badge method-get">GET</span>
              <code class="text-lg font-mono text-gray-700"
                >/fleet/performance</code
              >
            </div>

            <p class="text-gray-600 mb-4">Get vehicle performance metrics</p>

            <h4 class="font-semibold text-gray-900 mb-2">Response</h4>
            <div class="code-block">
              <pre><code class="text-gray-300">[
  {
    "vehicleId": "vehicle_001",
    "vehicleName": "Tata Ace",
    "totalTrips": 142,
    "avgFuelEfficiency": 84.5,
    "totalDistance": 9856.2,
    "fuelSavedLiters": 842.3,
    "safetyScore": 88
  }
]</code></pre>
            </div>
          </div>
        </section>

        <!-- DSA Section -->
        <section id="dsa" class="bg-white rounded-xl shadow-md p-8 mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">DSA Algorithms</h2>
          <p class="text-gray-600 mb-6">
            Our route optimization uses 5 advanced data structures and
            algorithms:
          </p>

          <div class="space-y-4">
            <div class="border-l-4 border-blue-500 pl-4">
              <h3 class="font-bold text-gray-900">1. Dijkstra's Algorithm</h3>
              <p class="text-gray-600 text-sm">
                Finds fastest route (minimum time) using priority queue
              </p>
              <p class="text-gray-500 text-xs mt-1">
                Complexity: O((V+E) log V)
              </p>
            </div>

            <div class="border-l-4 border-green-500 pl-4">
              <h3 class="font-bold text-gray-900">2. A* (A-Star) Algorithm</h3>
              <p class="text-gray-600 text-sm">
                Smart pathfinding with Haversine heuristic
              </p>
              <p class="text-gray-500 text-xs mt-1">
                Complexity: O(b^d) with good heuristic
              </p>
            </div>

            <div class="border-l-4 border-purple-500 pl-4">
              <h3 class="font-bold text-gray-900">3. Dynamic Programming</h3>
              <p class="text-gray-600 text-sm">
                Minimizes fuel cost with optimal refueling strategy
              </p>
              <p class="text-gray-500 text-xs mt-1">Complexity: O(n √ó m)</p>
            </div>

            <div class="border-l-4 border-orange-500 pl-4">
              <h3 class="font-bold text-gray-900">4. K-Means Clustering</h3>
              <p class="text-gray-600 text-sm">
                Groups nearby POIs for scenic routes
              </p>
              <p class="text-gray-500 text-xs mt-1">Complexity: O(n √ó k √ó i)</p>
            </div>

            <div class="border-l-4 border-pink-500 pl-4">
              <h3 class="font-bold text-gray-900">5. Graph Construction</h3>
              <p class="text-gray-600 text-sm">
                Adjacency list for road network representation
              </p>
              <p class="text-gray-500 text-xs mt-1">
                Data Structure: Weighted Graph
              </p>
            </div>
          </div>
        </section>

        <!-- MongoDB Schema -->
        <section id="mongodb" class="bg-white rounded-xl shadow-md p-8 mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Database Schema</h2>

          <div class="space-y-6">
            <div>
              <h3 class="font-semibold text-gray-900 mb-2">Collections</h3>
              <ul class="space-y-2 text-gray-600">
                <li>
                  <code class="bg-gray-100 px-2 py-1 rounded">users</code> -
                  User profiles (drivers & admins)
                </li>
                <li>
                  <code class="bg-gray-100 px-2 py-1 rounded">fleets</code> -
                  Fleet organizations
                </li>
                <li>
                  <code class="bg-gray-100 px-2 py-1 rounded">vehicles</code> -
                  Fleet vehicles (IDs are strings!)
                </li>
                <li>
                  <code class="bg-gray-100 px-2 py-1 rounded">trips</code> -
                  Completed trips with metrics
                </li>
                <li>
                  <code class="bg-gray-100 px-2 py-1 rounded">trips_raw</code> -
                  Active/running trips
                </li>
                <li>
                  <code class="bg-gray-100 px-2 py-1 rounded">telemetry</code> -
                  Real-time GPS tracking
                </li>
              </ul>
            </div>

            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
              <h4 class="font-semibold text-yellow-900 mb-2">
                ‚ö†Ô∏è Important Notes
              </h4>
              <ul
                class="text-yellow-800 text-sm space-y-1 list-disc list-inside"
              >
                <li>
                  Vehicle IDs are STRINGS (e.g., "vehicle_001"), not ObjectIds
                </li>
                <li>
                  Driver assignment uses <code>userId</code> field, not
                  <code>assignedDriverId</code>
                </li>
                <li>
                  Baseline consumption is <code>baselineConsumption</code>, not
                  <code>consumptionBaseline</code>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Error Codes -->
        <section id="errors" class="bg-white rounded-xl shadow-md p-8 mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Error Codes</h2>

          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50">
                <tr>
                  <th
                    class="px-4 py-3 text-left text-sm font-semibold text-gray-900"
                  >
                    Code
                  </th>
                  <th
                    class="px-4 py-3 text-left text-sm font-semibold text-gray-900"
                  >
                    Message
                  </th>
                  <th
                    class="px-4 py-3 text-left text-sm font-semibold text-gray-900"
                  >
                    Description
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr>
                  <td class="px-4 py-3 text-sm font-mono text-red-600">400</td>
                  <td class="px-4 py-3 text-sm">Bad Request</td>
                  <td class="px-4 py-3 text-sm text-gray-600">
                    Invalid request parameters
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 text-sm font-mono text-red-600">401</td>
                  <td class="px-4 py-3 text-sm">Unauthorized</td>
                  <td class="px-4 py-3 text-sm text-gray-600">
                    Missing or invalid authentication token
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 text-sm font-mono text-red-600">403</td>
                  <td class="px-4 py-3 text-sm">Forbidden</td>
                  <td class="px-4 py-3 text-sm text-gray-600">
                    Insufficient permissions
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 text-sm font-mono text-red-600">404</td>
                  <td class="px-4 py-3 text-sm">Not Found</td>
                  <td class="px-4 py-3 text-sm text-gray-600">
                    Resource not found
                  </td>
                </tr>
                <tr>
                  <td class="px-4 py-3 text-sm font-mono text-red-600">500</td>
                  <td class="px-4 py-3 text-sm">Internal Server Error</td>
                  <td class="px-4 py-3 text-sm text-gray-600">
                    Server-side error
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </main>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
      <div class="container mx-auto px-6 text-center">
        <p class="text-gray-400">
          FuelOptimizer API v1.0 ‚Ä¢ Built with DSA, MongoDB & Firebase
        </p>
        <p class="text-gray-500 text-sm mt-2">
          ¬© 2025 FuelOptimizer. All rights reserved.
        </p>
      </div>
    </footer>

    <script>
      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({ behavior: "smooth", block: "start" });
          }
        });
      });
    </script>
  </body>
</html>
